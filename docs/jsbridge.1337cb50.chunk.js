(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{558:function(e,t,n){"use strict";n.r(t);var r=n(431),i=n.n(r),a=n(44),o=n.n(a),u=n(20),c=n.n(u),s=n(27),p=n.n(s),f=n(57),d=n.n(f),l=n(432),h=n.n(l),w=n(434),g=n.n(w),v=n(52),b={default:{mock:!1},whiteList:["toast","alert","confirm","showLoading","hideLoading","setTitle","getNetworkType","registerAPI","detect","getAppName","getBridge","getBridgeName","getBridgeVersion"]},k=n(142),m=n.n(k).a,y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="mock/jsbridge/".concat(e,".json");return new Promise(function(e,r){m(n,t,function(t){e(t)},function(e){r(e)})})};n.d(t,"JSBridgeUtil",function(){return _});var x=b.whiteList,B=function(e,t,n,r){return new window.Promise(function(i,a){e.call(t,n,r,function(){i.apply(void 0,arguments)},function(){a.apply(void 0,arguments)})})},j=function(e){return new window.Promise(function(t,n){var r=document,i=r.head||r.getElementsByTagName("head")[0]||r.documentElement,a=r.createElement("script");a.setAttribute("charset","utf-8"),"onload"in a?(a.onload=function(){t()},a.onerror=function(){n()}):a.onreadystatechange=function(){/loaded|complete/.test(a.readyState)&&t()},a.async=!0,a.src=e,i.appendChild(a)})},_=function(){function e(t){var n=this;c()(this,e);var r=t.onReady;t.onReady=function(){Object.keys(n._jsbridge).forEach(function(e){var t=n._jsbridge[e];if("function"==typeof t)if("function"==typeof n[e]){var r=n[e];n[e]=function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];return n._options.mock&&n.inWhiteList(e)<0?y.apply(void 0,["JSBridge.".concat(e)].concat(i)):r.apply(n,i)}}else n[e]=function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n._options.mock&&n.inWhiteList(e)<0?y.apply(void 0,["JSBridge.".concat(e)].concat(i)):t.apply(n._jsbridge,i)}}),v.a.isQianNiu()?j("//g.alicdn.com/sj/tqn/m/sdk-mobile.min.js").then(function(){r()},function(){throw new Error("Qianniu JSSDK load failed")}):r()},this._jsbridge=new g.a(t),this._options=Object.assign({},b.default)}return p()(e,[{key:"inWhiteList",value:function(e){return x.indexOf(e)}},{key:"useMockData",value:function(){return this.setOption("mock",!0)}},{key:"setOption",value:function(e,t){var n="".concat(e).trim();return this._options[n]=t,this}},{key:"config",value:function(e,t){var n=this;return null==e?this:("object"===o()(e)?Object.keys(e).forEach(function(t){n.setOption(t,e[t])}):this.setOption(e,t),this)}},{key:"setTitle",value:function(){var e=i()(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAppName();case 2:if("QN"!==(n=e.sent)){e.next=8;break}return window.TOP.mobile.vpage.title(t.title),e.abrupt("return",{});case 8:if("FM"!==n){e.next=13;break}return e.next=11,this.getBridge();case 11:return r=e.sent,e.abrupt("return",B(r,"WVIdleFishApi","setTitle",t));case 13:return e.abrupt("return",this._jsbridge.setTitle(t));case 14:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"stopBack",value:function(){var e=i()(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAppName();case 2:if("QN"!==(n=e.sent)){e.next=8;break}window.TOP.mobile.vpage(!0),window.TOP.mobile.on("vpage","goback",function(){t.onBack()}),e.next=24;break;case 8:if("TM"!==n){e.next=13;break}window._jsShouldHookCloseEvent=function(){return!0},window._jsCloseEventCall=function(){t.onBack()},e.next=24;break;case 13:if("FM"!==n){e.next=23;break}return e.next=16,this.getBridge();case 16:return r=e.sent,e.next=19,B(r,"WebAppInterface","enableHookNativeBack",{});case 19:window._windvane_backControl=function(){return"true"},document.addEventListener("wvBackClickEvent",function(){t.onBack()}),e.next=24;break;case 23:return e.abrupt("return",this._jsbridge.stopBack(t));case 24:return e.abrupt("return",{});case 25:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"pushWindow",value:function(){var e=i()(regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getAppName();case 2:if("FM"!==(n=e.sent)){e.next=14;break}return e.next=6,this.getBridge();case 6:return r=e.sent,e.prev=7,e.abrupt("return",B(r,"Base","openWindow",t));case 11:e.prev=11,e.t0=e.catch(7),window.location.href=t.url;case 14:if("QN"!==n){e.next=18;break}window.TOP.mobile.application.request({event:"openWebsite",biz:{url:t.url},error:function(){window.location.href=t.url}}),e.next=31;break;case 18:return e.prev=18,e.abrupt("return",this._jsbridge.pushWindow(t));case 22:return e.prev=22,e.t1=e.catch(18),e.prev=24,e.abrupt("return",this.openInBrowser(t));case 28:e.prev=28,e.t2=e.catch(24),window.location.href=t.url;case 31:return e.abrupt("return",{});case 32:case"end":return e.stop()}},e,this,[[7,11],[18,22],[24,28]])}));return function(t){return e.apply(this,arguments)}}()},{key:"popWindow",value:function(){var t=i()(regeneratorRuntime.mark(function t(){var n,r,i,a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getAppName();case 2:if("FM"!==(n=t.sent)){t.next=10;break}return t.next=6,this.getBridge();case 6:return r=t.sent,t.abrupt("return",B(r,"WVNative","nativeBack"));case 10:if("LX"!==n){t.next=19;break}return t.next=13,this.getBridge();case 13:i=t.sent,a=window.history.length,window.history.go(1-a),setTimeout(function(){i.call("close")},0),t.next=20;break;case 19:return t.abrupt("return",h()(d()(e.prototype),"popWindow",this).call(this));case 20:return t.abrupt("return",{});case 21:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}]),e}();t.default=function(){return new window.Promise(function(e){var t=new _({onReady:function(){e(t)}})})}}}]);